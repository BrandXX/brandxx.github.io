---
import BaseLayout from '../../layouts/BaseLayout.astro';
import BentoCard from '../../components/BentoCard.astro';
import CTA from '../../components/CTA.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import { getCollection } from 'astro:content';

const caseStudies = (await getCollection('case-studies')).sort((a, b) =>
  b.data.date.localeCompare(a.data.date)
);
---

<BaseLayout
  title="Work | TechSoft Systems"
  description="Case studies covering private AI platforms, reliability engineering, and zero-loss migrations."
>
  <section class="pt-12">
    <SectionHeader
      title="Case studies"
      subtitle="Architecture decisions, delivery tradeoffs, and measurable outcomes from private AI and infrastructure programs."
    />

    <div class="mt-8 grid gap-4 md:grid-cols-3">
      {caseStudies.map((study) => (
        <BentoCard
          href={`/work/${study.slug}`}
          eyebrow={study.data.industry}
          title={study.data.title}
          description={study.data.description}
        >
          <p class="mt-4 text-xs text-zinc-600 dark:text-zinc-400">Key metric: {study.data.stat}</p>
        </BentoCard>
      ))}
    </div>
  </section>

  <CTA
    title="Conversion CTA variant: request a case-study walkthrough"
    description="If you want the implementation detail behind a specific outcome, request a focused walkthrough of architecture decisions, risk controls, and rollout sequencing."
    primaryHref="mailto:sales@techsoftsys.com?subject=Case%20Study%20Walkthrough%20Request"
    primaryLabel="Request walkthrough"
    secondaryHref="/contact"
    secondaryLabel="Talk through your scenario"
  />
</BaseLayout>
